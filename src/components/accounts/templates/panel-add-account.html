<div class="sidepanel-layout create-portfolio" ng-controller="AddAccountCtrl">
  <div class="sidepanel-header">
    {{ 'FORM.ADD_ACCOUNT.TITLE' | translate }}
    <img ng-click="closeSidepanel()" class="sidepanel-close" src="img/close.svg" alt="x" />
  </div>
  <div class="sidepanel-content">
    <form ng-submit="submit()" class="add-account">
      <ui-select ng-model="formData.portfolio" theme="selectize" ng-show="!formData.portfolioid">
        <ui-select-match placeholder="{{ 'FORM.ADD_ACCOUNT.PORTFOLIO_PLACEHOLDER' | translate }}">
          {{ 'FORM.ADD_ACCOUNT.PORTFOLIO' | translate }} "{{ $select.selected.label }}"
        </ui-select-match>
        <ui-select-choices repeat="portfolio in portfolios | filter: $select.search">
          {{ 'FORM.ADD_ACCOUNT.PORTFOLIO' | translate }} "{{ portfolio.label }}"
        </ui-select-choices>
      </ui-select>
      <ui-select ng-model="formData.type" theme="selectize">
        <ui-select-match placeholder="{{ 'FORM.ADD_ACCOUNT.TYPE_PLACEHOLDER' | translate }}">
          {{ $select.selected.label }}
        </ui-select-match>
        <ui-select-choices repeat="type in types | filter: $select.search">
          {{ type.label }}
        </ui-select-choices>
      </ui-select>
      <input ng-model="formData.label" type="text" placeholder="{{ 'FORM.ADD_ACCOUNT.NAME_PLACEHOLDER' | translate }}"/>
      <input ng-model="formData.publickey" ng-show="formData.type" type="text" placeholder="{{ 'FORM.ADD_ACCOUNT.PUBLICKEY_PLACEHOLDER' | translate }}"/>
      <input ng-model="formData.secretkey" ng-show="formData.type.issecretkeyrequired" type="text" placeholder="{{ 'FORM.ADD_ACCOUNT.PRIVATEKEY_PLACEHOLDER' | translate }}"/>
      <div class="error" ng-show="error">
        {{ error.message }} ({{ error.code }})
      </div>
      <input type="submit" ng-disabled="(!formData.portfolio && !formData.portfolioid) || !formData.label || !formData.publickey || loading" value="{{ ('FORM.ADD_ACCOUNT.SUBMIT' + (loading ? '_INPROG' : '')) | translate }}"/>
    </form>

  </div>
</div>
